# TP 01 : Installations Serveurs

## 2 Post-Installation

### 2.5

- `echo $LANG` retourne la variable d'environnement associée à la valeur LANG, dans ce cas là la langue de notre système `en_US.UTF-8`.

- Nom machine: `hostname` renvoie le nom de notre machine, ici `serveur1`.

- hostname: On peut trouver dans le man de `hostname` plusieurs commandes pour trouver les noms de domaines, ici on utilise `dnsdomainname` pour obtenir le résultat `ufr-info-p6.jussieu.fr`.

- vérification emplacement dépots: `cat /etc/apt/sources.list | grep -v -E ’^#|^$’` retourne:

```
deb http://deb.debian.org/debian/ trixie main
deb http://security.debian.org/debian-security trixie-security main
deb http://deb.debian.org/debian/ trixie-updates main
```

- passwd/shadow: cat /etc/shadow | grep -vE ':\*:|:!\*:' renvoie `root:$y$j9T$M2rS9mzlxevug1LtiY9gM/$mzzgfyxYEvuBF.m2pjLQVu5HEIFS5TSr7UVAFQPya5D:20461:0:99999:7:::dhcpcd:!:20461::::::`

- comptes utilisateurs: `cat /etc/passwd | grep -vE 'nologin|sync'` retourne `dhcpcd:x:100:65534:DHCP Client Daemon:/usr/lib/dhcpcd:/bin/false`

- fdisk:
  - fisk -l liste toutes les partitions vues par le système.
  - fdisk -x fais la même chose mais y apporte plus de détails (UID des disques, noms des partitions, et d'autres infos en +)

- df -h: df renvoie la liste et la taille/espace disponible de tous les FileSystem de la machine. L'option -h permet de mieux lire le résultat grace à une conversion des unités.

## 3. Aller plus loin

### 3.1 Installation automatique

preseed est une méthode d'installation qui permet de rentrer automatiquement les informations d'installations sans avoir à couper le déroulement de l'installation. Cela est rendu possible grace à un fichier de configuration nommé 'debconf'
Cette méthode permet même des options supplémentaires, innaccessible sans cette méthode.

### 3.2 Rescue mode

Si oubli de mot de passe root, on peut utiliser le rescue mode.
Ce mode est un environnement de récupération, nous permettant des actions de réparation ou de modification sur notre systeme. Il est utile pour plusieurs raisons mais celle qui nous intéresse est la récupération de mot de passe root.
Lors de notre entrée en mode rescue, on est connecté en root, on peut alors changer son mot de passe en utilisant la commande `passwd`.

## 3.3 Redimentionnement partition

Pour redimensionner une partition, on peut utiliser la commande parted.
